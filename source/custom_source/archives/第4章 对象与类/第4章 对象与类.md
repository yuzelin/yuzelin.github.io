---
title: 第4章 对象与类
date: 2020-09-09 16:37:26
tags:
  - reading notes
  - Java
categories:
  - Java
  - Core Java Volume Ⅰ
---

# 思维导图

&emsp;&emsp;本章前面部分是通过实例来讲解的，所以选取了部分知识点，如下：

{% img [对象与类] /custom_source/images/对象与类.png %}

# 字段

## final字段

&emsp;&emsp;可以将实例字段定义为final。这样的字段必须在构造对象时初始化，i.e. 必须确保在每一个构造器执行之后，这个字段的值已经设置，并且之后不能再修改这个字段。如果final变量是对象变量，只是说明这个变量不能再指向另一个不同的对象，它引用的对象本身可以被修改。

## 静态字段

&emsp;&emsp;如果将一个字段定义为static，每个类只有一个这样的字段。即使没有类对象，静态字段也存在，它属于类。

&emsp;&emsp;静态变量使用得比较少，静态常量比较常用。

# 方法

## 静态方法

&emsp;&emsp;静态方法是不在对象上执行的方法。静态方法不能访问非静态的字段，也不能调用非静态的方法，因为它不能再对象上执行操作。下面两种情况下可以使用静态方法：

- 方法不需要访问对象状态，因为它需要的所有参数都通过显式参数提供；
- 方法只需要访问类的静态字段。

## 工厂方法

&emsp;&emsp;静态方法还有另外一种常见的用途，静态工厂方法构造对象。使用工厂方法有两个好处：

- 构造器必须与类同名，有些时候希望不同的方法名体现构造了不同的实例；
- 构造器无法改变构造的对象的类型，工厂方法可以返回不同的类型，比如子类。

# 方法参数

&emsp;&emsp;Java总是按值调用。Java方法对参数能做什么和不能做什么：

- 不能修改基本数据类型的参数；
- 可以改变对象参数的状态（容易让人误解为按引用调用）；
- 不能让一个对象参数引用一个新的对象。

# 对象构造

## 重载(overloading)

&emsp;&emsp;多个方法有相同的名字、不同的参数。完整描述一个方法，需要指定方法名和参数类型。返回类型不是方法签名的一部分。构造器的名字和类名相同，多个构造器就是重载的例子。

## 默认字段初始化

&emsp;&emsp;如果构造器没有显式地为字段设置初始值，那么就会被自动地赋为默认值：数值为0、布尔值为false、对象引用为null。这是字段与局部变量的一个重要区别，局部变量必须初始化。

## 无参数的构造器

&emsp;&emsp;如果没有提供构造器，会默认提供一个无参数构造器，这个构造器将所有字段设置为默认值。如果类中提供了构造器但是没有提供无参数的构造器，那么不会提供默认的无参数构造器。如果提供了其他构造器，又希望字段赋默认值，可以提供一个空的构造器。

## 显式字段初始化

&emsp;&emsp;可以在定义时直接为字段赋值。可以利用方法调用进行初始化。

## 调用另一个构造器

&emsp;&emsp;可以使用this(...)来调用另一个构造器。必须写在第一行，因此最多使用一次。

## 初始化块

&emsp;&emsp;可以使用{ }代码块来进行初始化。可以使用静态初始化块来初始化静态字段，方法是在初始化块前加static。在类第一次加载的时候会进行静态字段的初始化。

# 包

## 类的导入

&emsp;&emsp;一个类可以使用所属包中的所有类，以及其他包中的公共类。可以采用两种方式访问另一个包中的公共类。第一种是使用完全限定名，就是包名后跟着类名；第二种是使用import语句。

## 静态导入

&emsp;&emsp;import static方式导入静态方法和静态字段。

## 在包中添加类

&emsp;&emsp;使用package 包名，再将源文件放到与包名匹配的子目录中。

## 包访问

&emsp;&emsp;类、方法或变量如果没有指定public和private，可以被同一个包中的所有方法访问。

# JAR文件 & 文档注释

&emsp;&emsp;JAR文件可以通过IDE得到，不深入了解；文档注释暂时不用，仅做一个小测试，不赘述。
